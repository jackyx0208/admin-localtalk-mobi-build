(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[5],{1297:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var r=a(3),i=a(36),n=a(35),c=a(614),o=a(198),s=a(1267),l=a(37),d=a(0),u=["links","action","heading","moreLink","sx"];function b(e){var t=e.links,a=e.action,b=e.heading,j=e.moreLink,p=void 0===j?[]:j,m=e.sx,h=Object(i.a)(e,u);return Object(d.jsxs)(c.a,{sx:Object(r.a)({mb:5},m),children:[Object(d.jsxs)(c.a,{sx:{display:"flex",alignItems:"center"},children:[Object(d.jsxs)(c.a,{sx:{flexGrow:1},children:[Object(d.jsx)(o.a,{variant:"h4",gutterBottom:!0,children:b}),Object(d.jsx)(l.b,Object(r.a)({links:t},h))]}),a&&Object(d.jsx)(c.a,{sx:{flexShrink:0},children:a})]}),Object(d.jsx)(c.a,{sx:{mt:2},children:Object(n.isString)(p)?Object(d.jsx)(s.a,{href:p,target:"_blank",variant:"body2",children:p}):p.map((function(e){return Object(d.jsx)(s.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)}))})]})}},1299:function(e,t,a){"use strict";function r(e){return new Promise((function(t){return setTimeout(t,e)}))}a.d(t,"a",(function(){return r}))},1349:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(4),i=a(402);function n(e,t){return void 0===t&&(t={}),function(e,t){return void 0===t&&(t={}),Object(i.a)(e,Object(r.a)({delimiter:"."},t))}(e,Object(r.a)({delimiter:"-"},t))}},1363:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var r=a(16),i=a(1),n=a(1268),c=a(1495),o=a(614),s=a(1271),l=a(1415),d=a(198),u=a(1496),b=a(394),j=a(1457),p=a(0);function m(e){var t=e.message,a=e.onConfirm,m=e.onClose,h=Object(i.useState)(!0),f=Object(r.a)(h,2),O=f[0];f[1];return Object(p.jsxs)(n.a,{open:O,onClose:m,maxWidth:"sm",fullWidth:!0,children:[Object(p.jsx)(c.a,{children:"Confirm the action"}),Object(p.jsx)(o.a,{position:"absolute",top:0,right:0,children:Object(p.jsx)(s.a,{onClick:m,children:Object(p.jsx)(j.a,{})})}),Object(p.jsx)(l.a,{children:Object(p.jsx)(d.a,{children:t})}),Object(p.jsxs)(u.a,{children:[Object(p.jsx)(b.a,{color:"primary",variant:"contained",onClick:m,children:"Cancel"}),Object(p.jsx)(b.a,{color:"secondary",variant:"contained",onClick:function(){a&&a(),m()},children:"Confirm"})]})]})}},1415:function(e,t,a){"use strict";var r=a(5),i=a(2),n=a(1),c=(a(9),a(10)),o=a(196),s=a(7),l=a(13),d=a(161),u=a(197);function b(e){return Object(d.a)("MuiDialogContent",e)}Object(u.a)("MuiDialogContent",["root","dividers"]);var j=a(0),p=["className","dividers"],m=Object(s.a)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,t){var a=e.styleProps;return[t.root,a.dividers&&t.dividers]}})((function(e){var t=e.theme,a=e.styleProps;return Object(i.a)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},a.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat(t.palette.divider),borderBottom:"1px solid ".concat(t.palette.divider)}:{".MuiDialogTitle-root + &":{paddingTop:0}})})),h=n.forwardRef((function(e,t){var a=Object(l.a)({props:e,name:"MuiDialogContent"}),n=a.className,s=a.dividers,d=void 0!==s&&s,u=Object(r.a)(a,p),h=Object(i.a)({},a,{dividers:d}),f=function(e){var t=e.classes,a={root:["root",e.dividers&&"dividers"]};return Object(o.a)(a,b,t)}(h);return Object(j.jsx)(m,Object(i.a)({className:Object(c.default)(f.root,n),styleProps:h,ref:t},u))}));t.a=h},1457:function(e,t,a){"use strict";var r=a(42),i=a(0);t.a=Object(r.a)(Object(i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},1458:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var r=a(3),i=a(12),n=a.n(i),c=a(20),o=a(16),s=a(231),l=a(1),d=a(162),u=a(32),b=a(230),j=a(1257),p=a(1261),m=a(1291),h=a(198),f=a(1178),O=a(1250),v=a(614),x=a(21),g=a(1299),y=a(25),_=a(1363),k=a(0);function w(e){var t=e.readOnly,a=e.currentUser,i=e.userSpecialPermissions,w=Object(u.h)(),S=Object(d.useSnackbar)().enqueueSnackbar;t=t||!1;var C=Object(l.useState)(!1),P=Object(o.a)(C,2),T=P[0],M=P[1],R=function(){var e=Object(c.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("user/clearSpecialPermission/".concat(a._id));case 2:w(y.b.user.list),S("Cleared User Special Permissions Successfully",{variant:"success"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=s.b().shape({max_coverage:s.d().required("This field is required"),top_message_max_num:s.d().required("This field is required"),effect_year:s.d().required("This field is required"),effect_month:s.d().required("This field is required"),effect_day:s.d().required("This field is required"),valid_period:s.d().required("This field is required")}),N=Object(b.c)({enableReinitialize:!0,initialValues:{max_coverage:(null===i||void 0===i?void 0:i.max_coverage)||"",top_message_max_num:(null===i||void 0===i?void 0:i.top_message_max_num)||"",effect_year:(null===i||void 0===i?void 0:i.effect_year)||"",effect_month:(null===i||void 0===i?void 0:i.effect_month)||"",effect_day:(null===i||void 0===i?void 0:i.effect_day)||"",valid_period:(null===i||void 0===i?void 0:i.valid_period)||""},validationSchema:t?null:B,onSubmit:function(){var e=Object(c.a)(n.a.mark((function e(t,r){var i,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.setSubmitting,r.resetForm,c=r.setErrors,e.prev=1,e.next=4,Object(g.a)(500);case 4:return e.next=6,x.a.put("/user/permissions/".concat(a._id),t);case 6:i(!1),S("Update success",{variant:"success"}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),i(!1),c(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()}),q=N.errors,D=(N.values,N.touched),H=N.handleSubmit,A=N.isSubmitting,I=(N.setFieldValue,N.getFieldProps);return Object(k.jsxs)(b.b,{value:N,children:[Object(k.jsx)(b.a,{noValidate:!0,autoComplete:"off",onSubmit:H,children:Object(k.jsx)(p.a,{container:!0,spacing:3,children:Object(k.jsx)(p.a,{item:!0,xs:12,md:12,children:Object(k.jsxs)(m.a,{sx:{p:3,mt:3},children:[Object(k.jsx)(h.a,{variant:"h6",color:"inherit",component:"div",sx:{mb:3},children:"User Special Permission"}),Object(k.jsxs)(f.a,{spacing:3,children:[Object(k.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(k.jsx)(h.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"Max Cover people\xa0\xa0\xa0"}),Object(k.jsx)(O.a,Object(r.a)(Object(r.a)({},I("max_coverage")),{},{variant:"standard",inputProps:{readOnly:t},style:{width:250},error:Boolean(D.max_coverage&&q.max_coverage),helperText:D.max_coverage&&q.max_coverage})),Object(k.jsx)(h.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"person (range 1 ~ 1,000,000)"})]}),Object(k.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(k.jsx)(h.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"TOP messages permission\xa0\xa0\xa0"}),Object(k.jsx)(O.a,Object(r.a)(Object(r.a)({},I("top_message_max_num")),{},{variant:"standard",inputProps:{readOnly:t},style:{width:150},error:Boolean(D.top_message_max_num&&q.top_message_max_num),helperText:D.top_message_max_num&&q.top_message_max_num})),Object(k.jsx)(h.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"(1 ~ 10)"})]}),Object(k.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(k.jsx)(h.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"Effective Time\xa0\xa0\xa0"}),Object(k.jsx)(O.a,Object(r.a)(Object(r.a)({},I("effect_year")),{},{variant:"standard",inputProps:{readOnly:t},style:{width:80},error:Boolean(D.effect_year&&q.effect_year),helperText:D.effect_year&&q.effect_year})),Object(k.jsx)(h.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"year"}),Object(k.jsx)(O.a,Object(r.a)(Object(r.a)({},I("effect_month")),{},{variant:"standard",inputProps:{readOnly:t},style:{width:80},error:Boolean(D.effect_month&&q.effect_month),helperText:D.effect_month&&q.effect_month})),Object(k.jsx)(h.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"month"}),Object(k.jsx)(O.a,Object(r.a)(Object(r.a)({},I("effect_day")),{},{variant:"standard",inputProps:{readOnly:t},style:{width:80},error:Boolean(D.effect_day&&q.effect_day),helperText:D.effect_day&&q.effect_day})),Object(k.jsx)(h.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"day (East America Time from 00:01 AM)"})]}),Object(k.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(k.jsx)(h.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"Permissions Valid period\xa0\xa0\xa0"}),Object(k.jsx)(O.a,Object(r.a)(Object(r.a)({},I("valid_period")),{},{variant:"standard",inputProps:{readOnly:t},style:{width:150},error:Boolean(D.valid_period&&q.valid_period),helperText:D.valid_period&&q.valid_period})),Object(k.jsx)(h.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"day"})]}),!t&&Object(k.jsx)(v.a,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:Object(k.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[i&&Object(k.jsx)(j.a,{type:"button",color:"secondary",variant:"contained",onClick:R,children:"Clear Special Permissions"}),Object(k.jsx)(j.a,{type:"submit",variant:"contained",loading:A,children:"Save Changes"})]})})]})]})})})}),T&&Object(k.jsx)(_.a,{message:"Are you sure you are going to clear this user's special permission?",onConfirm:z,onClose:function(){M(!1)}})]})}},1495:function(e,t,a){"use strict";var r=a(2),i=a(5),n=a(1),c=(a(9),a(10)),o=a(196),s=a(198),l=a(7),d=a(13),u=a(161),b=a(197);function j(e){return Object(u.a)("MuiDialogTitle",e)}Object(b.a)("MuiDialogTitle",["root"]);var p=a(408),m=a(0),h=["className","id"],f=Object(l.a)(s.a,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:"16px 24px",flex:"0 0 auto"}),O=n.forwardRef((function(e,t){var a=Object(d.a)({props:e,name:"MuiDialogTitle"}),s=a.className,l=a.id,u=Object(i.a)(a,h),b=a,O=function(e){var t=e.classes;return Object(o.a)({root:["root"]},j,t)}(b),v=n.useContext(p.a).titleId,x=void 0===v?l:v;return Object(m.jsx)(f,Object(r.a)({component:"h2",className:Object(c.default)(O.root,s),styleProps:b,ref:t,variant:"h6",id:x},u))}));t.a=O},1496:function(e,t,a){"use strict";var r=a(5),i=a(2),n=a(1),c=(a(9),a(10)),o=a(196),s=a(7),l=a(13),d=a(161),u=a(197);function b(e){return Object(d.a)("MuiDialogActions",e)}Object(u.a)("MuiDialogActions",["root","spacing"]);var j=a(0),p=["className","disableSpacing"],m=Object(s.a)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,t){var a=e.styleProps;return[t.root,!a.disableSpacing&&t.spacing]}})((function(e){var t=e.styleProps;return Object(i.a)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),h=n.forwardRef((function(e,t){var a=Object(l.a)({props:e,name:"MuiDialogActions"}),n=a.className,s=a.disableSpacing,d=void 0!==s&&s,u=Object(r.a)(a,p),h=Object(i.a)({},a,{disableSpacing:d}),f=function(e){var t=e.classes,a={root:["root",!e.disableSpacing&&"spacing"]};return Object(o.a)(a,b,t)}(h);return Object(j.jsx)(m,Object(i.a)({className:Object(c.default)(f.root,n),styleProps:h,ref:t},u))}));t.a=h},1715:function(e,t,a){"use strict";var r=a(6),i=a(5),n=a(2),c=a(1),o=(a(9),a(10)),s=a(196),l=a(73),d=a(15),u=a(270),b=a(13),j=a(7),p=a(161),m=a(197);function h(e){return Object(p.a)("MuiSwitch",e)}var f=Object(m.a)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),O=a(0),v=["className","color","edge","size","sx"],x=Object(j.a)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:function(e,t){var a=e.styleProps;return[t.root,a.edge&&t["edge".concat(Object(d.a)(a.edge))],t["size".concat(Object(d.a)(a.size))]]}})((function(e){var t,a=e.styleProps;return Object(n.a)({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===a.edge&&{marginLeft:-8},"end"===a.edge&&{marginRight:-8},"small"===a.size&&(t={width:40,height:24,padding:7},Object(r.a)(t,"& .".concat(f.thumb),{width:16,height:16}),Object(r.a)(t,"& .".concat(f.switchBase),Object(r.a)({padding:4},"&.".concat(f.checked),{transform:"translateX(16px)"})),t))})),g=Object(j.a)(u.a,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:function(e,t){var a=e.styleProps;return[t.switchBase,t.input,"default"!==a.color&&t["color".concat(Object(d.a)(a.color))]]}})((function(e){var t,a=e.theme;return t={position:"absolute",top:0,left:0,zIndex:1,color:"light"===a.palette.mode?a.palette.common.white:a.palette.grey[300],transition:a.transitions.create(["left","transform"],{duration:a.transitions.duration.shortest})},Object(r.a)(t,"&.".concat(f.checked),{transform:"translateX(20px)"}),Object(r.a)(t,"&.".concat(f.disabled),{color:"light"===a.palette.mode?a.palette.grey[100]:a.palette.grey[600]}),Object(r.a)(t,"&.".concat(f.checked," + .").concat(f.track),{opacity:.5}),Object(r.a)(t,"&.".concat(f.disabled," + .").concat(f.track),{opacity:"light"===a.palette.mode?.12:.2}),Object(r.a)(t,"& .".concat(f.input),{left:"-100%",width:"300%"}),t}),(function(e){var t,a=e.theme,i=e.styleProps;return Object(n.a)({"&:hover":{backgroundColor:Object(l.a)(a.palette.action.active,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==i.color&&(t={},Object(r.a)(t,"&.".concat(f.checked),Object(r.a)({color:a.palette[i.color].main,"&:hover":{backgroundColor:Object(l.a)(a.palette[i.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(f.disabled),{color:"light"===a.palette.mode?Object(l.i)(a.palette[i.color].main,.62):Object(l.b)(a.palette[i.color].main,.55)})),Object(r.a)(t,"&.".concat(f.checked," + .").concat(f.track),{backgroundColor:a.palette[i.color].main}),t))})),y=Object(j.a)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:function(e,t){return t.track}})((function(e){var t=e.theme;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:"light"===t.palette.mode?t.palette.common.black:t.palette.common.white,opacity:"light"===t.palette.mode?.38:.3}})),_=Object(j.a)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:function(e,t){return t.thumb}})((function(e){return{boxShadow:e.theme.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),k=c.forwardRef((function(e,t){var a=Object(b.a)({props:e,name:"MuiSwitch"}),r=a.className,c=a.color,l=void 0===c?"primary":c,u=a.edge,j=void 0!==u&&u,p=a.size,m=void 0===p?"medium":p,f=a.sx,k=Object(i.a)(a,v),w=Object(n.a)({},a,{color:l,edge:j,size:m}),S=function(e){var t=e.classes,a=e.edge,r=e.size,i=e.color,c=e.checked,o=e.disabled,l={root:["root",a&&"edge".concat(Object(d.a)(a)),"size".concat(Object(d.a)(r))],switchBase:["switchBase","color".concat(Object(d.a)(i)),c&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},u=Object(s.a)(l,h,t);return Object(n.a)({},t,u)}(w),C=Object(O.jsx)(_,{className:S.thumb,styleProps:w});return Object(O.jsxs)(x,{className:Object(o.default)(S.root,r),sx:f,styleProps:w,children:[Object(O.jsx)(g,Object(n.a)({type:"checkbox",icon:C,checkedIcon:C,ref:t,styleProps:w},k,{classes:Object(n.a)({},S,{root:S.switchBase})})),Object(O.jsx)(y,{className:S.track,styleProps:w})]})}));t.a=k}}]);
//# sourceMappingURL=5.d926107f.chunk.js.map