{"version":3,"sources":["pages/dashboard/LegalAgreements.js"],"names":["LegalAgreements","enqueueSnackbar","useSnackbar","themeStretch","useSettings","React","useState","loading","setLoading","privacyPolicyDefaultValue","setPrivacyPolicyDefaultValue","privacyPolicy","setPrivacyPolicy","userAgreementDefaultValue","setUserAgreementDefaultValue","userAgreement","setUserAgreement","userAgreementLoading","setUserAgreementLoading","useEffect","a","axios","get","data","success","pages","privacy","console","log","agreement","init","policyBtn","e","preventDefault","put","content","variant","agreementBtn","title","maxWidth","style","marginBottom","fullWidth","placeholder","multiline","minRows","maxRows","onChange","target","value","defaultValue","sx","mb","type","onClick","marginTop"],"mappings":"sWAee,SAASA,IACtB,IAAQC,EAAoBC,wBAApBD,gBACAE,EAAiBC,cAAjBD,aACR,EAA8BE,IAAMC,UAAS,GAA7C,mBAAOC,EAAP,KAAgBC,EAAhB,KAEA,EAAkEH,IAAMC,SAAS,IAAjF,mBAAOG,EAAP,KAAkCC,EAAlC,KACA,EAA0CL,IAAMC,SAASG,GAAzD,mBAAOE,EAAP,KAAsBC,EAAtB,KAEA,EAAkEP,IAAMC,SAAS,IAAjF,mBAAOO,EAAP,KAAkCC,EAAlC,KACA,EAA0CT,IAAMC,SAASO,GAAzD,mBAAOE,EAAP,KAAsBC,EAAtB,KACA,EAAwDX,IAAMC,UAAS,GAAvE,mBAAOW,EAAP,KAA6BC,EAA7B,KAEAb,IAAMc,WAAU,YACJ,uCAAG,8BAAAC,EAAA,sEACYC,IAAMC,IAAI,2BADtB,iBACHC,EADG,EACHA,MACCC,UACPd,EAA6Ba,EAAKE,MAAMC,SACxCC,QAAQC,IAAIL,EAAKE,MAAMC,SACvBZ,EAA6BS,EAAKE,MAAMI,YAL/B,2CAAH,qDAQVC,KACC,IAEH,IAAMC,EAAS,uCAAG,WAAOC,GAAP,SAAAZ,EAAA,6DAChBY,EAAEC,iBACFzB,GAAW,GAFK,SAGVa,IAAMa,IAAI,wBAAyB,CACvCC,QAASxB,IAJK,OAMhBH,GAAW,GACXP,EAAgB,sCAAuC,CAAEmC,QAAS,YAPlD,2CAAH,sDAUTC,EAAY,uCAAG,WAAOL,GAAP,SAAAZ,EAAA,6DACnBY,EAAEC,iBACFf,GAAwB,GAFL,SAGbG,IAAMa,IAAI,wBAAyB,CACvCC,QAASpB,IAJQ,OAMnBG,GAAwB,GACxBjB,EAAgB,sCAAuC,CAAEmC,QAAS,YAP/C,2CAAH,sDAUlB,OACE,cAAC,IAAD,CAAME,MAAM,2BAAZ,SACE,eAAC,IAAD,CAAWC,UAAUpC,GAAuB,KAA5C,UACE,oBAAIqC,MAAO,CAAEC,aAAc,QAA3B,4BACA,cAAC,IAAD,CACEC,WAAS,EAETC,YAAY,mBACZC,WAAS,EACTC,QAAS,GACTC,QAAS,GACTC,SAAU,SAACf,GAAD,OAAOpB,EAAiBoB,EAAEgB,OAAOC,QAC3CC,aAAczC,EACd0C,GAAI,CAAEC,GAAI,KAiBZ,cAAC,IAAD,CAAeC,KAAK,SAASjB,QAAQ,YAAY7B,QAASA,EAAS+C,QAASvB,EAA5E,0BAIA,oBAAIS,MAAO,CAAEe,UAAW,OAAQd,aAAc,QAA9C,4BACA,cAAC,IAAD,CACEC,WAAS,EAETC,YAAY,mBACZC,WAAS,EACTC,QAAS,GACTC,QAAS,GACTC,SAAU,SAACf,GAAD,OAAOhB,EAAiBgB,EAAEgB,OAAOC,QAC3CC,aAAcrC,EACdsC,GAAI,CAAEC,GAAI,KAeZ,cAAC,IAAD,CAAeC,KAAK,SAASjB,QAAQ,YAAY7B,QAASU,EAAsBqC,QAASjB,EAAzF","file":"static/js/29.54c26561.chunk.js","sourcesContent":["import React from 'react';\r\nimport { useSnackbar } from 'notistack5';\r\nimport { Editor, EditorState } from 'draft-js';\r\nimport 'draft-js/dist/Draft.css';\r\n// material\r\nimport { LoadingButton } from '@material-ui/lab';\r\nimport { Container, TextField } from '@material-ui/core';\r\nimport axios from '../../utils/axios';\r\n// hooks\r\nimport useSettings from '../../hooks/useSettings';\r\n// components\r\nimport Page from '../../components/Page';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function LegalAgreements() {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const { themeStretch } = useSettings();\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  const [privacyPolicyDefaultValue, setPrivacyPolicyDefaultValue] = React.useState('');\r\n  const [privacyPolicy, setPrivacyPolicy] = React.useState(privacyPolicyDefaultValue);\r\n\r\n  const [userAgreementDefaultValue, setUserAgreementDefaultValue] = React.useState('');\r\n  const [userAgreement, setUserAgreement] = React.useState(userAgreementDefaultValue);\r\n  const [userAgreementLoading, setUserAgreementLoading] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    const init = async () => {\r\n      const { data } = await axios.get('/pages/legal-agreements');\r\n      if (data.success) {\r\n        setPrivacyPolicyDefaultValue(data.pages.privacy);\r\n        console.log(data.pages.privacy);\r\n        setUserAgreementDefaultValue(data.pages.agreement);\r\n      }\r\n    };\r\n    init();\r\n  }, []);\r\n\r\n  const policyBtn = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    await axios.put('/pages/privacy-policy', {\r\n      content: privacyPolicy\r\n    });\r\n    setLoading(false);\r\n    enqueueSnackbar('Updated Privacy Policy Successfully', { variant: 'success' });\r\n  };\r\n\r\n  const agreementBtn = async (e) => {\r\n    e.preventDefault();\r\n    setUserAgreementLoading(true);\r\n    await axios.put('/pages/user-agreement', {\r\n      content: userAgreement\r\n    });\r\n    setUserAgreementLoading(false);\r\n    enqueueSnackbar('Updated User Agreement Successfully', { variant: 'success' });\r\n  };\r\n\r\n  return (\r\n    <Page title=\"Legal Agreement | Locals\">\r\n      <Container maxWidth={themeStretch ? false : 'lg'}>\r\n        <h2 style={{ marginBottom: '20px' }}>Privacy Policy</h2>\r\n        <TextField\r\n          fullWidth\r\n          // label=\"Privacy Policy\"\r\n          placeholder=\"Write something!\"\r\n          multiline\r\n          minRows={15}\r\n          maxRows={15}\r\n          onChange={(e) => setPrivacyPolicy(e.target.value)}\r\n          defaultValue={privacyPolicyDefaultValue}\r\n          sx={{ mb: 2 }}\r\n        />\r\n        {/* <textarea\r\n          defaultValue={privacyPolicyDefaultValue}\r\n          placeholder=\"Write something!\"\r\n          onChange={(e) => setPrivacyPolicy(e.target.value)}\r\n          style={{\r\n            border: '1px solid #ccc',\r\n            padding: '10px',\r\n            minHeight: '6em',\r\n            cursor: 'text',\r\n            marginTop: '20px',\r\n            marginBottom: '10px',\r\n            width: '100%'\r\n          }}\r\n        /> */}\r\n\r\n        <LoadingButton type=\"submit\" variant=\"contained\" loading={loading} onClick={policyBtn}>\r\n          Save Changes\r\n        </LoadingButton>\r\n\r\n        <h2 style={{ marginTop: '20px', marginBottom: '20px' }}>User Agreement</h2>\r\n        <TextField\r\n          fullWidth\r\n          // label=\"User Agreement\"\r\n          placeholder=\"Write something!\"\r\n          multiline\r\n          minRows={15}\r\n          maxRows={15}\r\n          onChange={(e) => setUserAgreement(e.target.value)}\r\n          defaultValue={userAgreementDefaultValue}\r\n          sx={{ mb: 2 }}\r\n        />\r\n        {/* <textarea\r\n          placeholder=\"Write something!\"\r\n          defaultValue={userAgreementDefaultValue}\r\n          onChange={(e) => setUserAgreement(e.target.value)}\r\n          style={{\r\n            border: '1px solid #ccc',\r\n            padding: '10px',\r\n            minHeight: '6em',\r\n            cursor: 'text',\r\n            marginBottom: '10px',\r\n            width: '100%'\r\n          }}\r\n        /> */}\r\n        <LoadingButton type=\"submit\" variant=\"contained\" loading={userAgreementLoading} onClick={agreementBtn}>\r\n          Save Changes\r\n        </LoadingButton>\r\n      </Container>\r\n    </Page>\r\n  );\r\n}\r\n"],"sourceRoot":""}