(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[22],{1292:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return d}));var a=n(35),i=n(1320),r=n.n(i);function s(e){return r()(e).format(Number.isInteger(e)?"$0,0":"$0,0.00")}function o(e){return r()(e).format()}function c(e){return Object(a.replace)(r()(e).format("0.00a"),".00","")}function d(e){return r()(e).format("0.0 b")}},1297:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(3),i=n(36),r=n(35),s=n(614),o=n(198),c=n(1267),d=n(37),l=n(0),u=["links","action","heading","moreLink","sx"];function m(e){var t=e.links,n=e.action,m=e.heading,h=e.moreLink,j=void 0===h?[]:h,b=e.sx,_=Object(i.a)(e,u);return Object(l.jsxs)(s.a,{sx:Object(a.a)({mb:5},b),children:[Object(l.jsxs)(s.a,{sx:{display:"flex",alignItems:"center"},children:[Object(l.jsxs)(s.a,{sx:{flexGrow:1},children:[Object(l.jsx)(o.a,{variant:"h4",gutterBottom:!0,children:m}),Object(l.jsx)(d.b,Object(a.a)({links:t},_))]}),n&&Object(l.jsx)(s.a,{sx:{flexShrink:0},children:n})]}),Object(l.jsx)(s.a,{sx:{mt:2},children:Object(r.isString)(j)?Object(l.jsx)(c.a,{href:j,target:"_blank",variant:"body2",children:j}):j.map((function(e){return Object(l.jsx)(c.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)}))})]})}},1299:function(e,t,n){"use strict";function a(e){return new Promise((function(t){return setTimeout(t,e)}))}n.d(t,"a",(function(){return a}))},1319:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(3),i=n(36),r=n(6),s=n(35),o=n(23),c=n(1301),d=(n(400),n(238),n(1258),n(1246),n(7)),l=n(73),u=n(1269),m=n(614),h=n(198),j=(n(1273),n(1275),n(1238),n(1239),n(1276),n(1178),n(394),n(1292)),b=(n(37),n(199),n(617),n(0));Object(d.a)("div")((function(e){var t=e.theme;return Object(r.a)({outline:"none",display:"flex",textAlign:"center",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(5,1),borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.neutral,border:"1px dashed ".concat(t.palette.grey[50032]),"&:hover":{opacity:.72,cursor:"pointer"}},t.breakpoints.up("md"),{textAlign:"left",flexDirection:"row"})}));Object(d.a)("div")((function(e){var t=e.theme;return Object(r.a)({outline:"none",display:"flex",overflow:"hidden",textAlign:"center",position:"relative",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(5,0),borderRadius:t.shape.borderRadius,transition:t.transitions.create("padding"),backgroundColor:t.palette.background.neutral,border:"1px dashed ".concat(t.palette.grey[50032]),"&:hover":{opacity:.72,cursor:"pointer"}},t.breakpoints.up("md"),{textAlign:"left",flexDirection:"row"})}));var _=n(1340),p=n.n(_),x=["error","file","caption","sx"],g=Object(d.a)("div")((function(e){var t=e.theme;return{width:144,height:144,margin:"auto",borderRadius:"50%",padding:t.spacing(1),border:"1px dashed ".concat(t.palette.grey[50032])}})),v=Object(d.a)("div")({zIndex:0,width:"100%",height:"100%",outline:"none",display:"flex",overflow:"hidden",borderRadius:"50%",position:"relative",alignItems:"center",justifyContent:"center","& > *":{width:"100%",height:"100%"},"&:hover":{cursor:"pointer","& .placeholder":{zIndex:9}}}),O=Object(d.a)("div")((function(e){var t=e.theme;return{display:"flex",position:"absolute",alignItems:"center",flexDirection:"column",justifyContent:"center",color:t.palette.text.secondary,backgroundColor:t.palette.background.neutral,transition:t.transitions.create("opacity",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"&:hover":{opacity:.72}}}));function f(e){var t=e.error,n=e.file,r=e.caption,d=e.sx,_=Object(i.a)(e,x),f=Object(c.a)(Object(a.a)({multiple:!1},_)),y=f.getRootProps,w=f.getInputProps,T=f.isDragActive,k=f.isDragReject,H=f.fileRejections,q=function(){return Object(b.jsx)(u.a,{variant:"outlined",sx:{py:1,px:2,my:2,borderColor:"error.light",bgcolor:function(e){return Object(l.a)(e.palette.error.main,.08)}},children:H.map((function(e){var t=e.file,n=e.errors,a=t.path,i=t.size;return Object(b.jsxs)(m.a,{sx:{my:1},children:[Object(b.jsxs)(h.a,{variant:"subtitle2",noWrap:!0,children:[a," - ",Object(j.b)(i)]}),n.map((function(e){return Object(b.jsxs)(h.a,{variant:"caption",component:"p",children:["- ",e.message]},e.code)}))]},a)}))})};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(g,{sx:d,children:Object(b.jsxs)(v,Object(a.a)(Object(a.a)({},y()),{},{sx:Object(a.a)(Object(a.a)({},T&&{opacity:.72}),(k||t)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"}),children:[Object(b.jsx)("input",Object(a.a)({},w())),n&&Object(b.jsx)(m.a,{component:"img",alt:"avatar",src:Object(s.isString)(n)?n:n.preview,sx:{zIndex:8,objectFit:"cover"}}),Object(b.jsxs)(O,{className:"placeholder",sx:Object(a.a)({},n&&{opacity:0,color:"common.white",bgcolor:"grey.900","&:hover":{opacity:.72}}),children:[Object(b.jsx)(m.a,{component:o.a,icon:p.a,sx:{width:24,height:24,mb:1}}),Object(b.jsx)(h.a,{variant:"caption",children:n?"Update photo":"Upload photo"})]})]}))}),r,H.length>0&&Object(b.jsx)(q,{})]})}},1773:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));var a=n(1),i=n(1281),r=n(309),s=n(399),o=n(25),c=n(82),d=n(395),l=n(1297),u=n(3),m=n(12),h=n.n(m),j=n(20),b=n(231),_=n(162),p=n(32),x=n(230),g=n(1257),v=n(1261),O=n(1291),f=n(1178),y=n(198),w=n(1250),T=n(614),k=n(1618),H=n.n(k),q=n(21),S=(n(1292),n(1299)),B=(n(396),n(1319),n(0));function P(e){var t=e.settingsData,n=(Object(p.h)(),Object(_.useSnackbar)().enqueueSnackbar),a=b.b().shape({refresh_location_time_interval:b.d().required("This field is required"),top_information_online_hour:b.d().required("This field is required"),downloads_message_num:b.d().required("This field is required"),message_limit_character_num:b.d().required("This field is required"),domain_name:b.d().required("This field is required"),app_use_hour:b.d().required("This field is required"),top_message_num:b.d().required("This field is required"),top_message_save_hour:b.d().required("This field is required"),default_coverage:b.d().required("This field is required"),banned_hour:b.d().required("This field is required")}),i=Object(x.c)({enableReinitialize:!0,initialValues:{refresh_location_time_interval:(null===t||void 0===t?void 0:t.settings.refresh_location_time_interval)||5,top_information_online_hour:(null===t||void 0===t?void 0:t.settings.top_information_online_hour)||24,downloads_message_num:(null===t||void 0===t?void 0:t.settings.downloads_message_num)||100,message_limit_character_num:(null===t||void 0===t?void 0:t.settings.message_limit_character_num)||1e3,domain_name:(null===t||void 0===t?void 0:t.settings.domain_name)||"toptalk.app",admin_mail_address:(null===t||void 0===t?void 0:t.settings.admin_mail_address)||"",online_chat_admin_email:(null===t||void 0===t?void 0:t.settings.online_chat_admin_email)||"",app_use_hour:(null===t||void 0===t?void 0:t.settings.app_use_hour)||1,top_message_num:(null===t||void 0===t?void 0:t.settings.top_message_num)||1,top_message_save_hour:(null===t||void 0===t?void 0:t.settings.top_message_save_hour)||24,message_save_hour:(null===t||void 0===t?void 0:t.settings.message_save_hour)||1,default_coverage:(null===t||void 0===t?void 0:t.settings.default_coverage)||150,banned_hour:(null===t||void 0===t?void 0:t.settings.banned_hour)||72},validationSchema:a,onSubmit:function(){var e=Object(j.a)(h.a.mark((function e(t,a){var i,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.setSubmitting,a.resetForm,r=a.setErrors,e.prev=1,e.next=4,Object(S.a)(500);case 4:return e.next=6,q.a.put("/settings/parameter/",t);case 6:i(!1),n("Update success",{variant:"success"}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),i(!1),r(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()}),r=i.errors,s=(i.values,i.touched),o=i.handleSubmit,c=i.isSubmitting,d=(i.setFieldValue,i.getFieldProps);return Object(B.jsx)(x.b,{value:i,children:Object(B.jsx)(x.a,{noValidate:!0,autoComplete:"off",onSubmit:o,children:Object(B.jsx)(v.a,{container:!0,spacing:3,children:Object(B.jsx)(v.a,{item:!0,xs:12,md:12,children:Object(B.jsx)(O.a,{sx:{p:3},children:Object(B.jsxs)(f.a,{spacing:3,children:[Object(B.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(B.jsx)(H.a,{}),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"How often to refresh the user's location: every"}),Object(B.jsx)(w.a,Object(u.a)(Object(u.a)({},d("refresh_location_time_interval")),{},{variant:"standard",style:{width:80},error:Boolean(s.refresh_location_time_interval&&r.refresh_location_time_interval),helperText:s.refresh_location_time_interval&&r.refresh_location_time_interval})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"minutes"})]}),Object(B.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(B.jsx)(H.a,{}),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"TOP information is online for"}),Object(B.jsx)(w.a,Object(u.a)(Object(u.a)({},d("top_information_online_hour")),{},{variant:"standard",style:{width:80},error:Boolean(s.top_information_online_hour&&r.top_information_online_hour),helperText:s.top_information_online_hour&&r.top_information_online_hour})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"hours"})]}),Object(B.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(B.jsx)(H.a,{}),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"After the user logs into the APP, system downloads last"}),Object(B.jsx)(w.a,Object(u.a)(Object(u.a)({},d("downloads_message_num")),{},{variant:"standard",style:{width:80},error:Boolean(s.downloads_message_num&&r.downloads_message_num),helperText:s.downloads_message_num&&r.downloads_message_num})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"messages of the public chat room"})]}),Object(B.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(B.jsx)(H.a,{}),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"Each message text is limited to"}),Object(B.jsx)(w.a,Object(u.a)(Object(u.a)({},d("message_limit_character_num")),{},{variant:"standard",style:{width:80},error:Boolean(s.message_limit_character_num&&r.message_limit_character_num),helperText:s.message_limit_character_num&&r.message_limit_character_num})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"characters"})]}),Object(B.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(B.jsx)(H.a,{}),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"Domain name:"}),Object(B.jsx)(w.a,Object(u.a)(Object(u.a)({},d("domain_name")),{},{variant:"standard",style:{width:120},error:Boolean(s.domain_name&&r.domain_name),helperText:s.domain_name&&r.domain_name})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"Admin mail address:"}),Object(B.jsx)(w.a,Object(u.a)(Object(u.a)({},d("admin_mail_address")),{},{variant:"standard",style:{width:150},error:Boolean(s.admin_mail_address&&r.admin_mail_address),helperText:s.admin_mail_address&&r.admin_mail_address})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"Online chat admin email:"}),Object(B.jsx)(w.a,Object(u.a)(Object(u.a)({},d("online_chat_admin_email")),{},{variant:"standard",style:{width:150},error:Boolean(s.online_chat_admin_email&&r.online_chat_admin_email),helperText:s.online_chat_admin_email&&r.online_chat_admin_email}))]}),Object(B.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(B.jsx)(H.a,{}),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"Visitors are allowed to use APP for"}),Object(B.jsx)(w.a,Object(u.a)(Object(u.a)({},d("app_use_hour")),{},{variant:"standard",style:{width:60},error:Boolean(s.app_use_hour&&r.app_use_hour),helperText:s.app_use_hour&&r.app_use_hour})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"hours each time"})]}),Object(B.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(B.jsx)(H.a,{}),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"Each user can only TOP"}),Object(B.jsx)(w.a,Object(u.a)(Object(u.a)({},d("top_message_num")),{},{variant:"standard",style:{width:60},error:Boolean(s.top_message_num&&r.top_message_num),helperText:s.top_message_num&&r.top_message_num})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"messages"})]}),Object(B.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(B.jsx)(H.a,{}),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"The server saves TOP messages in the past"}),Object(B.jsx)(w.a,Object(u.a)(Object(u.a)({},d("top_message_save_hour")),{},{variant:"standard",style:{width:60},error:Boolean(s.top_message_save_hour&&r.top_message_save_hour),helperText:s.top_message_save_hour&&r.top_message_save_hour})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"hours, and the messages within"}),Object(B.jsx)(w.a,Object(u.a)(Object(u.a)({},d("message_save_hour")),{},{variant:"standard",style:{width:60},error:Boolean(s.message_save_hour&&r.message_save_hour),helperText:s.message_save_hour&&r.message_save_hour})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"hours of public chat"})]}),Object(B.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(B.jsx)(H.a,{}),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"The default max. coverage set is"}),Object(B.jsx)(w.a,Object(u.a)(Object(u.a)({},d("default_coverage")),{},{variant:"standard",style:{width:60},error:Boolean(s.default_coverage&&r.default_coverage),helperText:s.default_coverage&&r.default_coverage})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"people nearby"})]}),Object(B.jsxs)(f.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(B.jsx)(H.a,{}),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"If a user is blocked by 3 users within 24 hours, he will be banned speaking for"}),Object(B.jsx)(w.a,Object(u.a)(Object(u.a)({},d("banned_hour")),{},{variant:"standard",style:{width:60},error:Boolean(s.banned_hour&&r.banned_hour),helperText:s.banned_hour&&r.banned_hour})),Object(B.jsx)(y.a,{variant:"body1",component:"div",style:{lineHeight:2},children:"hours"})]}),Object(B.jsx)(T.a,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:Object(B.jsx)(g.a,{type:"submit",variant:"contained",loading:c,children:"Save Changes"})})]})})})})})})}function C(){var e=Object(c.a)().themeStretch,t=Object(r.c)(),n=Object(r.d)((function(e){return e.setting})).settingsList.find((function(e){return"parameter"===e.type}));return Object(a.useEffect)((function(){t(Object(s.b)())}),[t]),Object(B.jsx)(d.a,{title:"Settings: Parameter Settings | Locals",children:Object(B.jsxs)(i.a,{maxWidth:!e&&"lg",children:[Object(B.jsx)(l.a,{heading:"Parameter Settings",links:[{name:"Dashboard",href:o.b.root},{name:"Settings",href:o.b.settings.parameters},{name:"Parameters"}]}),Object(B.jsx)(P,{settingsData:n})]})})}}}]);
//# sourceMappingURL=22.0628c60a.chunk.js.map